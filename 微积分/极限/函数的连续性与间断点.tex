\section{函数的连续性与间断点}\label{section:极限.函数的连续性与间断点}

\subsection{函数的连续性}
设变量\(u\)从它的一个初值\(u_1\)变到终值\(u_2\)，
终值与初值的差\(u_2 - u_1\)就叫做变量\(u\)的\DefineConcept{增量}，
记作\(\increment u\)，即\[
	\increment u = u_2 - u_1.
\]

在实数域中，增量\(\increment u\)既可以是正的，也可以是负的.
当\(\increment u > 0\)时，变量\(u\)从初值变到终值时是增大的；
当\(\increment u < 0\)时，变量\(u\)从初值变到终值时是减小的.

应该注意到：
记号\(\increment u\)并不表示某个量\(\Delta\)与变量\(u\)的乘积，
而是一个不可分割的符号.

\begin{definition}
设函数\(f\colon D\to\mathbb{R}\)在点\(x_0\)的某一邻域内有定义.
如果\[
	\lim_{\increment x\to0} \increment y
	=\lim_{\increment x\to0} [f(x_0 + \increment x)-f(x_0)]
	=0,
\]
或者\[
	\lim_{x \to x_0} f(x) = f(x_0),
\]
或者\[
	(\forall \epsilon > 0)
	(\exists \delta > 0)
	(\forall x \in D)
	[
		0 < \abs{x - x_0} < \delta
		\implies
		\abs{f(x) - f(x_0)} < \epsilon
	],
\]
那么就称“函数\(f(x)\)在点\(x_0\)~\DefineConcept{连续}
（the function \(f(x)\) is continuous at \(x_0\)）”，
称“点\(x_0\)是函数\(f(x)\)的\DefineConcept{连续点}（point of continuity）”.

如果\(f(x)\)在点\(x_0\)的某一左邻域内有定义，
极限\(f(x_0^-) = \lim_{x \to x_0^-} f(x)\)存在，且\[
	f(x_0^-) = f(x_0),
\]
则称“函数\(f(x)\)在点\(x_0\)~\DefineConcept{左连续}
（the function \(f(x)\) is left-continuous at \(x_0\)）”.

如果\(f(x)\)在点\(x_0\)的某一右邻域内有定义，
极限\(f(x_0^+) = \lim_{x \to x_0^+} f(x)\)存在，且\[
	f(x_0^+) = f(x_0),
\]
则称“函数\(f(x)\)在点\(x_0\)~\DefineConcept{右连续}
（the function \(f(x)\) is right-continuous at \(x_0\)）”.
\end{definition}

\begin{figure}[ht]
	\centering
	\def\fn(#1){ln(#1+3)*4-4}
	\begin{tikzpicture}
		\begin{axis}[
			xmin=0,xmax=5,
			ymin=0,ymax=5,
			grid=both,
			xlabel=$x$,
			ylabel=$y$,
			axis equal=true,
			axis lines=middle,
			xtick={1.5,3.5},
			xticklabels={$x_0$,$x_0+\increment x$},
			ytick={\fn(1.5),\fn(3.5)},
			yticklabels={$f(x_0)$,$f(x_0+\increment x)$}
		]
			\addplot[domain=.5:4.5,samples=50,thick,red]{\fn(x)};
		\end{axis}
	\end{tikzpicture}
	\caption{}
\end{figure}

\begin{definition}
如果函数\(f\colon D\to\mathbb{R}\)在\(\forall x \in (a,b)\)处都连续，
那么称“函数\(f\)在开区间\((a,b)\)内连续”，
即\[
	\text{函数\(f\)在\((a,b)\)内连续}
	\defiff
	(\forall x_0\in(a,b))
	[\text{\(f\)在点\(x_0\)连续}].
\]
\end{definition}

\begin{definition}
如果函数\(f\)不仅在\(\forall x \in (a,b)\)处都连续，
还在点\(a\)处右连续，且在\(b\)处左连续，
那么称“函数\(f\)在闭区间\([a,b]\)上连续”.
\end{definition}

类似地可以定义函数\(f(x)\)在半开半闭区间\((a,b]\)或\([a,b)\)内连续的概念.

之前我们在\cref{example:极限.有理整函数在一点的极限} 中研究过有理整函数，
对于任意实数\(x_0\)，总有\(\lim_{x \to x_0} f(x) = f(x_0)\)，
因此有理整函数在区间\((-\infty,+\infty)\)内是连续的.
而对于有理分式函数\(F(x)=\frac{P(x)}{Q(x)}\)，
只要\(Q(x_0)\neq0\)，
就有\(\lim_{x \to x_0}F(x)=F(x_0)\)，
因此有理分式函数在其定义域内的每一点都是连续的.

由\cref{example:极限.根式函数在某一点的极限} 可知，
函数\(f(x)=\sqrt{x}\)在\((0,+\infty)\)内是连续的.

\begin{example}
证明：若\(f(x)\)在\((-\infty,+\infty)\)内连续，
\(\lim_{x \to \infty}f(x)\)存在且有限，
则\(f(x)\)必在\((-\infty,+\infty)\)内有界.
\begin{proof}
因为\(\lim_{x \to \infty} f(x)\)存在，
那么由函数极限的局部有界性定理可知，\[
	(\exists M>0)
	(\exists X>0)
	[
		\abs{x} > X \implies \abs{f(x)} \leq M
	],
\]
也就是说\(f(x)\)在区间\((-\infty,-X)\cup(X,+\infty)\)上有界.

又因为\(f(x)\)在\((-\infty,+\infty)\)内连续，
所以\(f(x)\)在\([-X,X]\)上连续，
进而\(f(x)\)在\([-X,X]\)上有界.

综上所述，\(f(x)\)在\((-\infty,+\infty)\)上有界.
\end{proof}
\end{example}

\begin{example}
设\(f \in C(\mathbb{R})\)，
且\((\forall x,y\in\mathbb{R})[f(x+y) = f(x) + f(y)]\).
证明：\[
	(\forall x\in\mathbb{R})[f(x) = f(1) x].
\]
\begin{proof}
\def\f#1#2{f\left(\frac{#1}{#2}\right)}
令\(x=y=0\)，得\(f(0+0) = f(0) + f(0)\)，移项，得\(f(0) = 0\).

当\(x = m/n \in \mathbb{Q}\)时.
因为\[
	f(1) = \f{1}{n} + \f{n-1}{n}
	= 2 \f{1}{n} + \f{n-2}{n}
	= \dotsb
	= n \f{1}{n},
\]
所以\(f(1/n) = f(1) / n\)，进而\[
	\begin{split}
	\f{m}{n}
	&= \f{1}{n} + \f{m-1}{n}
	= 2 \f{1}{n} + \f{m-2}{n} \\
	&= \dotsb
	= m \f{1}{n} = \frac{m}{n} f(1).
	\end{split}
\]

当\(x \in \mathbb{R}-\mathbb{Q}\)时.
用有理数列逼近无理数证明题设成立.
\end{proof}
\end{example}

%\subsection{连续曲线}
%\begin{definition}
%设平面曲线\(L\)的参数方程为\[
%	\left\{ \begin{array}{l}
%		x = \phi(t) \\
%		y = \psi(t)
%	\end{array} \right.,
%	\quad
%	t \in [\alpha,\beta].
%\]
%如果\(\phi(t)\)、\(\psi(t)\)在\([\alpha,\beta]\)上连续，
%则称曲线\(L\)为\DefineConcept{连续曲线}.
%点\(\opair{\phi(\alpha),\psi(\alpha)}\)称为曲线的\DefineConcept{起点}，
%点\(\opair{\phi(\beta),\psi(\beta)}\)称为曲线的\DefineConcept{终点}.
%
%如果存在\(t_1\)、\(t_2\)满足\(\alpha \leq t_1 < t_2 \leq \beta\)
%且\((t_1-\alpha)^2+(t_2-\beta)^2 \neq 0\)，使得对应的两点重合，
%即\(\opair{\phi(t_1),\psi(t_1)}=\opair{\phi(t_2),\psi(t_2)}\)成立，
%则称该点为曲线\(L\)的\DefineConcept{重点}.
%
%无重点的连续曲线称为\DefineConcept{若尔当曲线}或\DefineConcept{简单曲线}.
%
%仅起点和终点重合
%（即\(\opair{\phi(\alpha),\psi(\alpha)}
%=\opair{\phi(\beta),\psi(\beta)}\)）
%的简单曲线称作\DefineConcept{若尔当闭曲线}或者\DefineConcept{简单闭曲线}.
%\end{definition}
