\section{正项级数及其审敛法}
\subsection{正项级数的概念及其收敛条件}
一般的常数项级数，它的各项可以是正数、负数或零.
现在我们先讨论“正项级数”.
这种级数特别重要，以后将看到许多级数的收敛性问题可归结为正项级数的收敛性问题.

\begin{definition}
%@see: 《数学分析（第二版 下册）》（陈纪修） P16 定义9.3.1
如果级数\(\sum_{n=1}^\infty u_n\)的一般项是非负实数，
即\[
	u_n\geq0\ (n=1,2,\dotsc),
\]
则称“级数\(\sum_{n=1}^\infty u_n\)是\DefineConcept{正项级数}（positive term series）”.
\end{definition}

显然，正项级数\(\sum_{n=1}^\infty u_n\)的部分和数列\(\{S_n\}\)是单调增加的，
即\[
	S_n = \sum_{i=1}^n u_i
	\leq \sum_{i=1}^{n+1} u_i
	= S_{n+1}
	\quad(n=1,2,\dotsc).
\]

\begin{theorem}\label{theorem:无穷级数.正项级数收敛的充分必要条件}
%@see: 《高等数学（第六版 下册）》 P256 定理1
%@see: 《数学分析教程 （第3版 下册）》（史济怀） P163 定理14.2.1
%@see: 《数学分析（第二版 下册）》（陈纪修） P16 定理9.3.1（正项级数的收敛原理）
正项级数收敛的充分必要条件是：它的部分和数列有界.
\begin{proof}
设\(\sum_{n=1}^\infty u_n\)是一个正项级数，
它的部分和数列为\(\{s_n\}\).
显然，数列\(\{s_n\}\)是一个单调增加数列.
如果数列\(\{s_n\}\)有界，
那么根据\hyperref[theorem:极限.数列的单调有界定理]{单调有界定理}，
数列\(\{s_n\}\)收敛，
也就是说，级数\(\sum_{n=1}^\infty u_n\)收敛.

反之，如果正项级数\(\sum_{n=1}^\infty u_n\)收敛于和\(s\)，
即\(\lim_{n\to\infty} s_n = s\)，
根据\hyperref[theorem:极限.收敛数列的有界性]{收敛数列的有界性}可知，
数列\(\{s_n\}\)有界.
\end{proof}
\end{theorem}

\begin{proposition}
%@see: 《数学分析（第二版 下册）》（陈纪修） P16 定理9.3.1（正项级数的收敛原理）
正项级数发散的充分必要条件是：它的部分和数列无界.
\begin{proof}
\cref{theorem:无穷级数.正项级数收敛的充分必要条件} 的逆否命题.
\end{proof}
\end{proposition}

\begin{example}
%@see: 《数学分析教程 （第3版 下册）》（史济怀） P163 例1
设正项级数\(\sum_{n=1}^\infty a_n\)的部分和是\(S_n\).
证明：\[
	\sum_{n=1}^\infty \frac{a_n}{S_n^2} < +\infty.
\]
\begin{proof}
显然\(\sum_{n=1}^\infty \frac{a_n}{S_n^2}\)是正项级数.
根据\cref{theorem:无穷级数.正项级数收敛的充分必要条件}，
只需证明它的部分和有界.
由于对于任意正整数\(N\)，有\begin{align*}
	\sum_{n=2}^N \frac{a_n}{S_n^2}
	&= \sum_{n=2}^N \frac{S_n-S_{n-1}}{S_n^2}
	\leq \sum_{n=2}^N \frac{S_n-S_{n-1}}{S_{n-1} S_n} \\
	&= \sum_{n=2}^N \left(
			\frac{1}{S_{n-1}} - \frac{1}{S_n}
		\right)
	= \frac{1}{S_1} - \frac{1}{S_N}
	< \frac{1}{a_1},
\end{align*}
也就是说\(\sum_{n=1}^\infty \frac{a_n}{S_n^2}\)的部分和有界，
所以根据\cref{theorem:无穷级数.正项级数收敛的充分必要条件}，该级数收敛.
\end{proof}
\end{example}

\subsection{比较审敛法}
利用\cref{theorem:无穷级数.正项级数收敛的充分必要条件} 直接证明某些级数的部分和有界不太容易，
因此我们需要一个判别级数敛散性的更简单的方法.

\begin{theorem}[比较审敛法]\label{theorem:无穷级数.正项级数的比较审敛法}
%@see: 《高等数学（第六版 下册）》 P256 定理2
%@see: 《数学分析教程 （第3版 下册）》（史济怀） P164 定理14.2.2
设\(\sum_{n=1}^\infty u_n\)
和\(\sum_{n=1}^\infty v_n\)都是正项级数，且\[
	u_n \leq v_n
	\quad(n=1,2,\dotsc).
\]
若级数\(\sum_{n=1}^\infty v_n\)收敛，
则级数\(\sum_{n=1}^\infty u_n\)收敛；
反之，若级数\(\sum_{n=1}^\infty u_n\)发散，
则级数\(\sum_{n=1}^\infty v_n\)发散.
\begin{proof}
设级数\(\sum_{n=1}^\infty v_n\)收敛于和\(\sigma\)，
则级数\(\sum_{n=1}^\infty u_n\)的部分和\[
	s_n = u_1 + u_2 + \dotsb u_n
	\leq
	v_1 + v_2 + \dotsb + v_n \leq \sigma
	\quad(n=1,2,\dotsc),
\]
即部分和数列\(\{s_n\}\)有界，
由\cref{theorem:无穷级数.正项级数收敛的充分必要条件} 知级数\(\sum_{n=1}^\infty u_n\)收敛.
\end{proof}
\end{theorem}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 1. (5)
判断级数\(\sum_{n=1}^\infty \frac{1}{1+a^n}\ (a>0)\)的收敛性.
\begin{solution}
显然有\[
	0 < \frac{1}{1+a^n} < \frac{1}{a^n}.
\]
根据\hyperref[theorem:无穷级数.正项级数的比较审敛法]{比较审敛法}，
如果级数\(\sum_{n=1}^\infty \frac{1}{a^n}\)收敛，
那么级数\(\sum_{n=1}^\infty \frac{1}{1+a^n}\)收敛.
然而，等比级数\(\sum_{n=1}^\infty \frac{1}{a^n}\)收敛
当且仅当\(\abs{\frac{1}{a}} < 1\)或\(a > 1\).

因此，当\(a > 1\)时，级数\(\sum_{n=1}^\infty \frac{1}{1+a^n}\)收敛；
当\(0 < a \leq 1\)时，级数\(\sum_{n=1}^\infty \frac{1}{1+a^n}\)发散.
\end{solution}
\end{example}

注意到级数的每一项同乘不为零的常数\(k\)
以及去掉级数前面部分的有限项不会影响级数的收敛性，
我们可得如下推论：
\begin{corollary}\label{theorem:无穷级数.正项级数的比较审敛法的推论}
%@see: 《高等数学（第六版 下册）》 P257 推论
%@see: 《数学分析（第二版 下册）》（陈纪修） P17 定理9.3.2（比较判别法）
设\(\sum_{n=1}^\infty u_n\)和\(\sum_{n=1}^\infty v_n\)都是正项级数.
\begin{itemize}
	\item 如果级数\(\sum_{n=1}^\infty v_n\)收敛，
	且从某一项开始\(u_n\)小于或等于\(v_n\)的正倍数，
	即\[
		(\exists k>0)
		(\exists N\in\mathbb{N})
		(\forall n\in\mathbb{N})
		[
			n > N
			\implies
			u_n \leq k v_n
		],
	\]
	则级数\(\sum_{n=1}^\infty u_n\)收敛.

	\item 如果级数\(\sum_{n=1}^\infty v_n\)发散，
	且从某一项开始\(u_n\)大于或等于\(v_n\)的正倍数，
	即\[
		(\exists k>0)
		(\exists N\in\mathbb{N})
		(\forall n\in\mathbb{N})
		[
			n > N
			\implies
			u_n \geq k v_n
		],
	\]
	则级数\(\sum_{n=1}^\infty u_n\)发散.
\end{itemize}
\end{corollary}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P257 例2
试证：级数\(\sum_{n=1}^\infty \frac{1}{\sqrt{n(n+1)}}\)是发散的.
\begin{proof}
因为\(n(n+1) < (n+1)^2\)，所以\(\frac{1}{\sqrt{n(n+1)}} > \frac{1}{n+1}\)，而级数\(\sum_{n=1}^\infty \frac{1}{n+1}\)是发散的，根据比较审敛法可知级数\(\sum_{n=1}^\infty \frac{1}{\sqrt{n(n+1)}}\)是发散的.
\end{proof}
\end{example}

\subsection{\texorpdfstring{\(p\)}{p}级数}
\begin{proposition}\label{example:无穷级数.p级数的收敛性}
%@see: 《高等数学（第六版 下册）》 P257 例1
%@see: 《数学分析（第二版 下册）》（陈纪修） P3 例9.1.3
讨论\(p\)级数\[
	1+\frac{1}{2^p}+\frac{1}{3^p}+\dotsb+\frac{1}{n^p}+\dotsb
\]的收敛性，
其中常数\(p>0\).
\begin{solution}
当\(p \leq 1\)时，\(p\)级数各项均不小于调和级数对应项，
即\(\frac{1}{n^p} \geq \frac{1}{n}\)，
但调和级数发散，
故根据\cref{theorem:无穷级数.正项级数的比较审敛法} 可知，
当\(p \leq 1\)时\(p\)级数发散.

当\(p > 1\)时，
因为\(k-1
\leq x
\leq k \implies \frac{1}{k}
\leq \frac{1}{x} \implies \frac{1}{k^p}
\leq \frac{1}{x^p}\)，
所以\[
	\frac{1}{k^p}
	= \int_{k-1}^k \frac{1}{k^p} \dd{x}
	\leq \int_{k-1}^k \frac{1}{x^p} \dd{x}
	\quad(k=2,3,\dotsc),
\]
从而级数的部分和
\begin{align*}
	s_n &= 1 + \sum_{k=2}^n{\frac{1}{k^p}}
	\leq 1 + \sum_{k=2}^n{ \int_{k-1}^k{\frac{1}{x^p}\dd{x}} }
	= 1 + \int_1^n{\frac{1}{x^p}\dd{x}} \\
	&= 1 + \frac{1}{p-1}\left(1-\frac{1}{n^{p-1}}\right)
	< 1 + \frac{1}{p-1}
	\quad(n=2,3,\dotsc),
\end{align*}
这表明数列\(\{s_n\}\)有界，因此\(p\)级数收敛.

综上所述，{\color{red} \(p\)级数\(\sum_{n=1}^\infty \frac{1}{n^p}\)
当\(p > 1\)时收敛，
当\(p \leq 1\)时发散.}
\end{solution}
\end{proposition}
可以发现，\(p\)级数与
\hyperref[example:定积分.p积分]{\(p\)积分}具有高度相似性.

\begin{example}
%@see: 《数学分析教程 （第3版 下册）》（史济怀） P163 例1
设正项级数\(\sum_{n=1}^\infty a_n\)的部分和是\(S_n\).
证明：对任意的\(\alpha>1\)，有\[
	\sum_{n=1}^\infty \frac{a_n}{S_n^\alpha} < +\infty.
\]
\begin{proof}
当\(\alpha>1\)时，
有\begin{align*}
	\sum_{i=2}^n \frac{a_i}{S_i^\alpha}
	&= \sum_{i=2}^n \frac{S_i-S_{i-1}}{S_i^\alpha} \\
	&= \sum_{i=2}^n \frac{1}{S_i^\alpha} \int_{S_{i-1}}^{S_i} \dd{x}
			\tag{\cref{theorem:定积分.定积分性质4}} \\
	&\leq \sum_{i=2}^n \int_{S_{i-1}}^{S_i} \frac{\dd{x}}{x^\alpha}
			\tag{\cref{theorem:定积分.定积分性质6}} \\
	&= \int_{S_1}^{S_n} \frac{\dd{x}}{x^\alpha}
			\tag{\cref{theorem:定积分.定积分性质3}} \\
	&\leq \int_{S_1}^{+\infty} \frac{\dd{x}}{x^\alpha}
	< +\infty,
			\tag{\cref{example:定积分.p积分}}
\end{align*}
可见该级数的部分和有界，因此该级数收敛.
\end{proof}
\end{example}

\begin{example}
设正项级数\(\sum_{n=1}^\infty a_n\)发散.
证明：级数\(\sum_{n=1}^\infty \frac{a_n}{n^3+a_n^2}\)收敛.
\begin{proof}
由基本不等式 \labelcref{theorem:不等式.基本不等式2} 可知
\(n^3+a_n^2\geq2\sqrt{n^3 a_n^2}=2n^{3/2}a_n\)，
那么\(\frac{a_n}{n^3+a_n^2}\leq\frac{a_n}{2n^{3/2}a_n}=\frac{1}{2n^{3/2}}\).
由\cref{example:无穷级数.p级数的收敛性}
我们知道\(p=\frac{3}{2}>1\)时，\(p\)级数收敛；
那么根据\hyperref[theorem:无穷级数.正项级数的比较审敛法]{比较审敛法}可知
级数\(\sum_{n=1}^\infty \frac{a_n}{n^3+a_n^2}\)收敛.
\end{proof}
\end{example}

\subsection{比较审敛法的极限形式}
\begin{theorem}[比较审敛法的极限形式]\label{theorem:无穷级数.正项级数的比较审敛法的极限形式}
%@see: 《高等数学（第六版 下册）》 P258 定理3
%@see: 《数学分析（第二版 下册）》（陈纪修） P18 定理9.3.2'（比较判别法的极限形式）
设\(\sum_{n=1}^\infty u_n\)和\(\sum_{n=1}^\infty v_n\)都是正项级数，
记\[
	\rho
	\defeq
	\lim_{n\to\infty} \frac{u_n}{v_n}.
\]
\begin{itemize}
	\item 如果\(\rho\in[0,+\infty)\)，
	且级数\(\sum_{n=1}^\infty v_n\)收敛，
	则级数\(\sum_{n=1}^\infty u_n\)收敛.

	\item 如果\(\rho\in(0,+\infty]\)，
	且级数\(\sum_{n=1}^\infty v_n\)发散，
	则级数\(\sum_{n=1}^\infty u_n\)发散.
\end{itemize}
\begin{proof}
如果\(\rho\in[0,+\infty)\)，
那么由极限定义可知，
对\(\epsilon=1\)，
存在正整数\(N\)，
当\(n>N\)时，
有\[
	\frac{u_n}{v_n} < l+1,
\]
即\(u_n < (l+1) v_n\).
而级数\(\sum_{n=1}^\infty v_n\)收敛，
根据\cref{theorem:无穷级数.正项级数的比较审敛法的推论} 可知，
级数\(\sum_{n=1}^\infty u_n\)收敛.

如果\(\rho\in(0,+\infty]\)，
那么极限\(\lim_{n\to\infty} \frac{v_n}{u_n}\)存在且有限.
如果级数\(\sum_{n=1}^\infty u_n\)收敛，
那么由上可知，级数\(\sum_{n=1}^\infty v_n\)收敛；
但已知级数\(\sum\limits{n=1}^\infty v_n\)发散，矛盾！
因此级数\(\sum_{n=1}^\infty u_n\)不可能收敛，
即级数\(\sum_{n=1}^\infty u_n\)发散.
\end{proof}
\end{theorem}

极限形式的比较审敛法，在两个正项级数的一般项均趋于零的情况下，
其实是比较它们的一般项作为无穷小量的阶.
定理表明，当\(n \to \infty\)时，
如果\(u_n\)是与\(v_n\)同阶或是比\(v_n\)高阶的无穷小，
而级数\(\sum_{n=1}^\infty v_n\)收敛，则级数\(\sum_{n=1}^\infty u_n\)收敛；
如果\(u_n\)是与\(v_n\)同阶或是比\(v_n\)低阶的无穷小，
而级数\(\sum_{n=1}^\infty v_n\)发散，则级数\(\sum_{n=1}^\infty u_n\)发散.

\begin{example}
%@see: 《高等数学（第六版 下册）》 P258 例3
判断级数\(\sum_{n=1}^\infty \sin\frac{1}{n}\)的收敛性.
\begin{solution}
因为\[
	\lim_{n\to\infty} \frac{\sin(1/n)}{1/n} = 1 > 0,
\]
而级数\(\sum_{n=1}^\infty \frac{1}{n}\)发散，
可知级数\(\sum_{n=1}^\infty \sin\frac{1}{n}\)发散.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 1. (1)
判断级数\[
	1 + \frac{1}{3} + \frac{1}{5} + \dotsb + \frac{1}{2n-1} + \dotsb
\]的收敛性.
\begin{solution}
记\(u_n = \frac{1}{2n-1}\)，
取\(v_n = \frac{1}{n}\).
因为\[
	\lim_{n\to\infty} \frac{u_n}{v_n}
	= \lim_{n\to\infty} \frac{n}{2n-1}
	= \lim_{n\to\infty} \frac{1}{2-1/n}
	= \frac{1}{2}
	> 0,
\]
而级数\(\sum_{n=1}^\infty \frac{1}{n}\)发散，
所以级数\(\sum_{n=1}^\infty \frac{1}{2n-1}\)发散.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 1. (2)
判断级数\[
	1 + \frac{1+2}{1+2^2} + \frac{1+3}{1+3^2} + \dotsb + \frac{1+n}{1+n^2} + \dotsb
\]的收敛性.
\begin{solution}
记\(u_n = \frac{1+n}{1+n^2}\)，
取\(v_n = \frac{1}{1+n}\).
因为\[
	\lim_{n\to\infty} \frac{u_n}{v_n}
	= \lim_{n\to\infty} \frac{(1+n)^2}{1+n^2}
	= \lim_{n\to\infty} \frac{n^2 + 2n + 1}{n^2 + 1}
	= 1 > 0,
\]
而\(\sum_{n=1}^\infty v_n\)发散，
所以级数\(\sum_{n=1}^\infty \frac{1+n}{1+n^2}\)发散.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 1. (3)
判断级数\[
	\frac{1}{2\cdot5} + \frac{1}{3\cdot6} + \dotsb + \frac{1}{(n+1)(n+4)} + \dotsb
\]的收敛性.
\begin{solution}
记\(u_n = \frac{1}{(n+1)(n+4)}\)，
取\(v_n = \frac{1}{n^2}\).
因为\[
	\lim_{n\to\infty} \frac{u_n}{v_n}
	= \lim_{n\to\infty} \frac{n^2}{(n+1)(n+4)}
	= 1,
\]
而级数\(\sum_{n=1}^\infty v_n\)收敛，
所以级数\(\sum_{n=1}^\infty \frac{1+n}{1+n^2}\)收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 1. (4)
\newcommand\sinfrac[1][]{\sin\frac{\pi}{2^{#1}}}
判断级数\[
	\sinfrac + \sinfrac[2] + \sinfrac[3] + \dotsb + \sinfrac[n] + \dotsb
\]的收敛性.
\begin{solution}
记\(u_n = \sin\frac{\pi}{2^n}\)，
取\(v_n = \frac{\pi}{2^n}\).
因为\[
	\lim_{n\to\infty} \frac{u_n}{v_n}
	= \lim_{n\to\infty} \frac{\sin(\pi/2^n)}{\pi/2^n}
	= 1,
\]
而级数\(\sum_{n=1}^\infty v_n\)收敛，
所以级数\(\sum_{n=1}^\infty \sin\frac{\pi}{2^n}\)收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《数学分析（第二版 下册）》（陈纪修） P19 例9.3.4
判断正项级数\(\sum_{n=1}^\infty \left(\exp\frac1{n^2}-\cos\frac\pi{n}\right)\)的敛散性.
\begin{solution}
因为\begin{align*}
	\exp\frac1{n^2}-\cos\frac\pi{n}
	&= \left[1+\frac1{n^2}+o\left(\frac1{n^2}\right)\right]
	- \left[1-\frac12\left(\frac\pi{n}\right)^2+o\left(\frac1{n^2}\right)\right] \\
	&= \left(1+\frac{\pi^2}2\right) \frac1{n^2} + o\left(\frac1{n^2}\right),
\end{align*}
所以\[
	\lim_{n\to\infty} n^2 \left(\exp\frac1{n^2}-\cos\frac\pi{n}\right)
	= 1+\frac{\pi^2}2.
\]
由于\(\sum_{n=1}^\infty \frac1{n^2}\)收敛，
所以\(\sum_{n=1}^\infty \left(\exp\frac1{n^2}-\cos\frac\pi{n}\right)\)收敛.
\end{solution}
\end{example}

\subsection{比较审敛法的比值形式}
\begin{theorem}\label{theorem:无穷级数.比较审敛法的比值形式}
%@see: 《数学分析简明教程（第二版 下册）》（邓东皋、尹小玲） P14 定理10.8（比较判别法的另一形式）
设\(\sum_{n=1}^\infty u_n\)和\(\sum_{n=1}^\infty v_n\)都是正项级数.
设存在正整数\(N\)，使得当\(n>N\)时，有\[
	\frac{u_{n+1}}{u_n} \leq \frac{v_{n+1}}{v_n}.
\]
\begin{itemize}
	\item 如果\(\sum_{n=1}^\infty v_n\)收敛，则\(\sum_{n=1}^\infty u_n\)收敛.
	\item 如果\(\sum_{n=1}^\infty u_n\)发散，则\(\sum_{n=1}^\infty v_n\)发散.
\end{itemize}
%TODO proof
\end{theorem}

\subsection{比值审敛法}
用比较审敛法审敛时，
需要适当地选取一个已知其收敛性的级数\(\sum_{n=1}^\infty v_n\)作为比较的基准.
最常选用作为基准级数的是正项等比级数\(\sum_{n=1}^\infty q^n\ (q>0)\)
和\(p\)级数\(\sum_{n=1}^\infty \frac1{n^p}\).

我们知道，\hyperref[example:无穷级数.等比级数的收敛性]{等比级数}
\(\sum_{n=1}^\infty q^n\)的敛散性只依赖于其相邻两项之比\(q\)是否小于\(1\).
利用\hyperref[theorem:无穷级数.正项级数的比较审敛法]{比较审敛法}可以得出以下结论：
设级数\(\sum_{n=1}^\infty u_n\)的后项与前项之比\(\frac{u_{n+1}}{u_n}\)
或前\(n\)项的“平均公比”
\(\sqrt[n]{u_n}
= \sqrt[n]{\frac{u_1}1\cdot\frac{u_2}{u_1}\dotsm\frac{u_n}{u_{n-1}}}\)
的极限是\(\rho\)，
如果\(\rho<1\)，那么级数\(\sum_{n=1}^\infty u_n\)收敛；
如果\(\rho>1\)，那么级数\(\sum_{n=1}^\infty u_n\)发散.
正是基于这样的思路，产生了如下的\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}%
和\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}.

\begin{theorem}[比值审敛法，达朗贝尔判别法]\label{theorem:无穷级数.正项级数的比值审敛法}
设\(\sum_{n=1}^\infty u_n\)是正项级数，
记\(\rho \defeq \lim_{n\to\infty} \frac{u_{n+1}}{u_n}\).
\begin{itemize}
	\item 当\(\rho<1\)时，级数\(\sum_{n=1}^\infty u_n\)收敛.
	\item 当\(\rho>1\)时，或当\(\rho=\infty\)时，级数\(\sum_{n=1}^\infty u_n\)发散.
	\item 当\(\rho=1\)时，级数\(\sum_{n=1}^\infty u_n\)可能收敛也可能发散.
\end{itemize}
\begin{proof}
当\(\rho<1\).
取一个适当小的正数\(\epsilon\)，
使得\(\rho+\epsilon=r<1\)，
根据极限定义，
存在正整数\(m\)，
当\(n \geq m\)时有不等式\[
	\frac{u_{n+1}}{u_n} < \rho + \epsilon = r.
\]
因此\[
	u_{m+1} < r u_m,
	u_{m+2} < r u_{m+1} < r^2 u_m,
	\dotsc,
	u_{m+k} < r^k u_m,
	\dotsc.
\]
而因为公比\(r<1\)，
故等比级数\(\sum_{k=1}^\infty r^k u_m\)收敛，
根据\cref{theorem:无穷级数.正项级数的比较审敛法的推论} 可知，
级数\(\sum_{n=1}^\infty u_n\)收敛.

当\(\rho>1\).
取一个适当小的正数\(\epsilon\)，
使得\(\rho-\epsilon>1\).
根据极限定义，
当\(n \geq m\)时有不等式\[
	\frac{u_{n+1}}{u_n} > \rho-\epsilon > 1,
\]
也就是\(u_{n+1}>u_n\).
所以当\(n \geq m\)时，
级数的一般项\(u_n\)是逐渐增大的，
从而\[
	\lim_{n\to\infty} u_n \neq 0.
\]
根据\cref{theorem:无穷级数.级数收敛的必要条件} （即级数收敛的必要条件）可知，
级数\(\sum_{n=1}^\infty u_n\)发散.

类似地，可以证明当\(\lim_{n\to\infty} \frac{u_{n+1}}{u_n} = \infty\)时，
级数\(\sum_{n=1}^\infty u_n\)发散.

当\(\rho = 1\)时，
级数可能收敛也可能发散.
例如\(p\)级数不论\(p\)为何值都有\[
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	= \lim_{n\to\infty} \frac{1/(n+1)^p}{1/n^p} = 1.
\]
但我们知道，
当\(p>1\)时\(p\)级数收敛，
当\(p\leq1\)时\(p\)级数发散，
因此只根据\(\rho=1\)不能判定级数的收敛性.
\end{proof}
\end{theorem}

\begin{example}\label{example:无穷级数.常数e的级数表示}
%@see: 《高等数学（第六版 下册）》 P260 例5
证明级数\[
	1+\frac{1}{1}+\frac{1}{1\cdot2}+\frac{1}{1\cdot2\cdot3}+\dotsb+\frac{1}{(n-1)!}+\dotsb
\]是收敛的，
并估计以级数的部分和\(s_n\)近似代替和\(s\)所产生的误差.
\begin{solution}
因为\[
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	 \lim_{n\to\infty} \frac{(n-1)!}{n!}
	= \lim_{n\to\infty} \frac{1}{n} = 0 < 1,
\]
根据比值审敛法可知，该级数收敛.

以该级数的部分和近似代替和\(s\)所产生的的误差为\begin{align*}
	\abs{r_n} &= \frac{1}{n!} + \frac{1}{(n+1)!} + \frac{1}{(n+2)!} + \dotsb \\
	&= \frac{1}{n!} \left[ 1 + \frac{1}{n+1} + \frac{1}{(n+1)(n+2)} + \dotsb \right] \\
	&< \frac{1}{n!} \left( 1 + \frac{1}{n} + \frac{1}{n^2} + \dotsb \right) \\
	&= \frac{1}{n!} \frac{1}{1-1/n}
	= \frac{1}{(n-1)\cdot(n-1)!}.
\end{align*}
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 2. (1)
判断级数\[
	\frac{3}{1\cdot2}
	+\frac{3^2}{2\cdot2^2}
	+\frac{3^3}{3\cdot2^3}
	+\dotsb
	+\frac{3^n}{n\cdot2^n}
	+\dotsb
\]的收敛性.
\begin{solution}
记\(u_n = \frac{3^n}{n\cdot2^n}\).
因为\[
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	= \lim_{n\to\infty} \frac{3}{2}\cdot\frac{n}{n+1}
	= \frac{3}{2} > 1,
\]
所以级数发散.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 2. (2)
判断级数\(\sum_{n=1}^\infty \frac{n^2}{3^n}\)的收敛性.
\begin{solution}
记\(u_n = \frac{n^2}{3^n}\).
因为\[
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	= \lim_{n\to\infty} \frac{1}{3} \cdot \frac{(n+1)^2}{n^2}
	= \frac{1}{3} < 1,
\]
所以级数收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 2. (3)
判断级数\(\sum_{n=1}^\infty \frac{2^n \cdot n!}{n^n}\)的收敛性.
\begin{solution}
记\(u_n = \frac{2^n \cdot n!}{n^n}\).
因为\begin{align*}
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	&= \lim_{n\to\infty} 2(n+1) \cdot \frac{n^n}{(n+1)^{n+1}} \\
	&= 2 \cdot \lim_{n\to\infty} \frac{n^n}{(n+1)^n}
	= 2 \cdot \lim_{n\to\infty} \left(1+\frac{1}{n}\right)^{-n}
	= \frac2e < 1,
\end{align*}
所以级数收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 2. (4)
判断级数\(\sum_{n=1}^\infty n \tan\frac{\pi}{2^{n+1}}\)的收敛性.
\begin{solution}
记\(u_n = n \tan\frac{\pi}{2^{n+1}}\).
我们有\[
	\frac{u_{n+1}}{u_n}
	= \frac{n+1}{n} \frac{\tan(\frac{1}{2}\frac{\pi}{2^{n+1}})}{\tan\frac{\pi}{2^{n+1}}}.
\]
根据二倍角公式\[
	\tan2\theta = \frac{2\tan\theta}{1-\tan^2\theta},
	\qquad
	\frac{\tan\theta}{\tan2\theta} = \frac{1-\tan^2\theta}{2},
\]
有\[
	\frac{\tan(\frac{1}{2}\frac{\pi}{2^{n+1}})}{\tan\frac{\pi}{2^{n+1}}}
	= \frac{1}{2} \left(
		1-\tan^2\frac{\pi}{2^{n+2}}
	\right).
\]
于是\begin{align*}
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	&= \lim_{n\to\infty} \frac{n+1}{n} \frac{1}{2} \left(
		1-\tan^2\frac{\pi}{2^{n+2}}
	\right) \\
	&= \frac{1}{2} \cdot \lim_{n\to\infty} \frac{n+1}{n} \cdot \left(
		1 - \lim_{n\to\infty} \tan^2\frac{\pi}{2^{n+2}}
	\right) \\
	&= \frac{1}{2} \cdot 1 \cdot (1 - 0) = \frac{1}{2} < 1.
\end{align*}
所以级数收敛.
\end{solution}
\end{example}

\subsection{比值审敛法的上、下极限形式}
\begin{corollary}[比值审敛法的上、下极限形式]\label{theorem:无穷级数.正项级数的比值审敛法的上下极限形式}
%@see: 《数学分析（第二版 下册）》（陈纪修） P20 定理9.3.4（d'Alembert判别法）
\def\orho{\overline{\rho}}
\def\urho{\underline{\rho}}
设\(\sum_{n=1}^\infty u_n\)是正项级数，%正项级数只隐含了\(u_n\geq0\)的条件，不保证\(u_n>0\).
\(u_n > 0\ (n=1,2,\dotsc)\)，%保证\(u_n\)作为分母时，分式有意义！
记\[
	\orho
	\defeq
	\varlimsup_{n\to\infty} \frac{u_{n+1}}{u_n},
	\qquad
	\urho
	\defeq
	\varliminf_{n\to\infty} \frac{u_{n+1}}{u_n}.
\]
\begin{itemize}
	\item 如果\(\orho < 1\)，
	则级数\(\sum_{n=1}^\infty u_n\)收敛.

	\item 如果\(\urho > 1\)，
	则级数\(\sum_{n=1}^\infty u_n\)发散.

	\item 如果\(\orho \geq 1\)或\(\urho \leq 1\)，
	则级数\(\sum_{n=1}^\infty u_n\)可能收敛也可能发散.
\end{itemize}
%TODO proof
\end{corollary}

\subsection{根值审敛法}
\begin{theorem}[根值审敛法，柯西判别法]\label{theorem:无穷级数.正项级数的根值审敛法}
%@see: 《高等数学（第六版 下册）》 P260 定理5
%@see: 《数学分析（第二版 下册）》（陈纪修） P19 定理9.3.3（Cauchy判别法）
设\(\sum_{n=1}^\infty u_n\)是正项级数，
记\(\rho \defeq \lim_{n\to\infty} \sqrt[n]{u_n}\).
\begin{itemize}
	\item 当\(\rho<1\)时，级数\(\sum_{n=1}^\infty u_n\)收敛.
	\item 当\(\rho>1\)时，或当\(\rho=+\infty\)时，级数\(\sum_{n=1}^\infty u_n\)发散.
	\item 当\(\rho=1\)时，级数\(\sum_{n=1}^\infty u_n\)可能收敛也可能发散.
\end{itemize}
%TODO proof
\end{theorem}
在\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}中
可以把\(\lim_{n\to\infty}\)替换为\(\varlimsup_{n\to\infty}\).

\begin{example}
判定级数\(\sum_{n=1}^\infty \frac{2+(-1)^n}{2^n}\)的敛散性.
\begin{solution}
记\[
	u_n = \frac{2+(-1)^n}{2^n},
\]
显然有\[
	\lim_{n\to\infty} \sqrt[n]{u_n}
	= \lim_{n\to\infty} \frac{1}{2} \sqrt[n]{2+(-1)^n}
	= \lim_{n\to\infty} \frac{1}{2} \exp{\frac{1}{n} \ln[2+(-1)^n]},
\]
因为\(\ln[2+(-1)^n] \in \{ 0, \ln3 \}\)有界，
故\(\lim_{n\to\infty} \frac{1}{n} \ln[2+(-1)^n] = 0\)，
从而\[
	\lim_{n\to\infty} \sqrt[n]{u_n} = \frac{1}{2} < 1.
\]
根据\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}可知，
级数\(\sum_{n=1}^\infty u_n\)收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《数学分析（第二版 下册）》（陈纪修） P20 例9.3.5
判定级数\(\sum_{n=1}^\infty \frac{n^3[\sqrt2 + (-1)^n]^n}{3^n}\)的敛散性.
\begin{solution}
由于\[
	\varlimsup_{n\to\infty} \sqrt[n]{
		\frac{n^3[\sqrt2 + (-1)^n]^n}{3^n}
	}
	= \frac{\sqrt2+1}3
	< 1,
\]
由\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}可知，
级数\(\sum_{n=1}^\infty \frac{n^3[\sqrt2 + (-1)^n]^n}{3^n}\)收敛.
\end{solution}
\end{example}

\subsection{比值审敛法与根值审敛法之间的联系}
\begin{theorem}\label{theorem:无穷级数.比值审敛法与根值审敛法之间的联系}
%@see: 《数学分析（第二版 下册）》（陈纪修） P20 引理9.3.1
设\(\{u_n\}\)是正项数列，
则\[
	\varliminf_{n\to\infty} \frac{u_{n+1}}{u_n}
	\leq
	\varliminf_{n\to\infty} \sqrt[n]{u_n}
	\leq
	\varlimsup_{n\to\infty} \sqrt[n]{u_n}
	\leq
	\varlimsup_{n\to\infty} \frac{u_{n+1}}{u_n}.
\]
\end{theorem}
\begin{remark}
\cref{theorem:无穷级数.比值审敛法与根值审敛法之间的联系} 说明：
如果一个正项级数的敛散情况
可以利用\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}判定，
那么它一定也能用\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}判定.
但是，能用\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}判定，
却未必能用\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}判定.
\end{remark}

\begin{example}
%@see: 《数学分析（第二版 下册）》（陈纪修） P21 例9.3.7
考虑级数\[
	\sum_{n=1}^\infty x_n
	= \frac12 + \frac13
	+ \frac1{2^2} + \frac1{3^2}
	+ \frac1{2^3} + \frac1{3^3}
	+ \dotsb,
\]
则\begin{align*}
	\varlimsup_{n\to\infty} \sqrt[n]{x_n}
	&= \lim_{n\to\infty} \sqrt[2n-1]{\frac1{2^n}}
	= \frac1{\sqrt2}, \\
	\varlimsup_{n\to\infty} \frac{x_{n+1}}{x_n}
	&= \lim_{n\to\infty} \frac{3^n}{2^{n+1}}
	= +\infty, \\
	\varliminf_{n\to\infty} \frac{x_{n+1}}{x_n}
	&= \lim_{n\to\infty} \frac{2^n}{3^n}
	= 0.
\end{align*}
可以看出，
由\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}可知
级数\(\sum_{n=1}^\infty x_n\)收敛，
但\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}却失效了.
于是我们说\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}的适用范围
比\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}更广泛.
\end{example}

但是，对于某些具体例子而言，虽然根值审敛法和比值审敛法这两种审敛法都适用，
但是比值审敛法比根值审敛法更方便一些，因此我们需要根据级数具体情况来选择合适的审敛法.

比值审敛法和根值审敛法的本质是比较判别法，
用来比较的基准级数是几何级数\(\sum_{n=1}^\infty q^n\)：
在判断级数收敛时，要求级数的通项受到\(q^n\ (0<q<1)\)的控制；
而在判断级数发散时，则是依据其一般项不趋于\(0\).
由于这两者相去甚远，因此这两种审敛法在许多情况下会失效，
即便是对\(\sum_{n=1}^\infty \frac1{n^p}\)这样简单的级数，
它们也都无能为力.

% \subsection{对数审敛法}
% \begin{theorem}\label{theorem:无穷级数.正项级数的对数审敛法}
% 设\(\sum_{n=1}^\infty u_n\)是正项级数，
% 记\(\rho \defeq \frac{\ln(1/u_n)}{\ln n}\).
% \begin{itemize}
% 	\item 如果\[
% 		(\exists N\in\mathbb{N})
% 		(\forall n\in\mathbb{N})
% 		[n>N \implies \rho>1],
% 	\]
% 	则级数\(\sum_{n=1}^\infty u_n\)收敛.

% 	\item 如果\[
% 		(\exists N\in\mathbb{N})
% 		(\forall n\in\mathbb{N})
% 		[n>N \implies \rho\leq1],
% 	\]
% 	则级数\(\sum_{n=1}^\infty u_n\)发散.
% \end{itemize}
% %TODO proof
% \end{theorem}

% \begin{remark}
% 设级数\(\sum_{n=1}^\infty u_n\)的一般项是\(u_n = \frac1{n\sqrt[n]{n}}\).
% 那么\(\lim_{n\to\infty} \frac{\ln(1/u_n)}{\ln n} = 1\)，
% 因此，我们无法利用\cref{theorem:无穷级数.正项级数的对数审敛法} 判别这个级数的敛散性.
% \end{remark}

\subsection{极限审敛法}
将\(p\)级数作为基准级数，将所给正项级数与之作比较，
可得在实用上较方便的极限审敛法和拉贝审敛法.
\begin{theorem}[极限审敛法]\label{theorem:无穷级数.正项级数的极限审敛法}
%@see: 《高等数学（第六版 下册）》 P261 定理6
设\(\sum_{n=1}^\infty u_n\)为正项级数，
记\(\rho \defeq \lim_{n\to\infty} n^p u_n\).
\begin{itemize}
	\item 当\(\rho\in[0,+\infty)\)且\(p>1\)时，
	级数\(\sum_{n=1}^\infty u_n\)收敛.

	\item 当\(\rho\in(0,+\infty]\)且\(p\leq1\)时，
	级数\(\sum_{n=1}^\infty u_n\)发散.
\end{itemize}
\end{theorem}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P261 例7
判定级数\(\sum_{n=1}^\infty \ln(1+\frac{1}{n^2})\)的收敛性.
\begin{solution}
因\(\ln(1+\frac{1}{n^2}) \sim \frac{1}{n^2}\ (n\to\infty)\)，
故\[
	\lim_{n\to\infty} n^2 u_n
	= \lim_{n\to\infty} n^2 \ln(1+\frac{1}{n^2})
	= \lim_{n\to\infty} n^2 \cdot \frac{1}{n^2}
	= 1,
\]
根据\hyperref[theorem:无穷级数.正项级数的极限审敛法]{极限审敛法}可知，所给级数收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P261 例8
判定级数\(\sum_{n=1}^\infty \sqrt{n+1} \left(1-\cos\frac{\pi}{n}\right)\)的收敛性.
\begin{solution}
因为\(1 - \cos x \sim \frac{1}{2} x^2\ (x\to0)\)，
故\[
	\lim_{n\to\infty} n^{\frac32} \sqrt{n+1} \cdot \left(1-\cos\frac{\pi}{n}\right)
	= \lim_{n\to\infty} n^2 \sqrt{\frac{n+1}{n}} \cdot \frac{1}{2} \left(\frac{\pi}{n}\right)^2
	= \frac{1}{2} \pi^2,
\]
根据\hyperref[theorem:无穷级数.正项级数的极限审敛法]{极限审敛法}可知，所给级数收敛.
\end{solution}
\end{example}

\subsection{拉贝审敛法}
对于某些正项级数\(\sum_{n=1}^\infty u_n\)，
成立\(\lim_{n\to\infty} \frac{x_{n+1}}{x_n} = 1\)，
这时\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}%
和\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}都失效了，
下面给出一种针对这类情况的判别法.

\begin{lemma}\label{theorem:常数项级数的审敛法.拉贝审敛法的引理}
%@see: 《数学分析简明教程（第二版 下册）》（邓东皋、尹小玲） P17 引理
对于任意\(r>p>1\)，存在正整数\(N\)，当\(n>N\)时，有\[
	1+\frac{r}{n} > \left(1+\frac1n\right)^p.
\]
\begin{proof}
因为\[
	\lim_{x\to0} \frac{(1+x)^p-1}x = p,
\]
所以\[
	\lim_{n\to\infty} \frac{\left(1+1/n\right)^p-1}{1/n} = p.
\]
又因为\(p<r\)，
由\hyperref[theorem:极限.收敛数列的保序性]{收敛数列的保序性} 可知，
存在正整数\(N\)，当\(n>N\)时，有\[
	\frac{\left(1+1/n\right)^p-1}{1/n} < r
	\quad\text{或}\quad
	\left(1+\frac1n\right)^p-1
	< \frac{r}{n}.
	\qedhere
\]
\end{proof}
\end{lemma}

\begin{theorem}[拉贝审敛法]
%@see: 《数学分析（第二版 下册）》（陈纪修） P22 定理9.3.5（Raabe判别法）
%@see: 《数学分析简明教程（第二版 下册）》（邓东皋、尹小玲） P17 定理10.11（拉阿比(Raabe)判别法）
设\(\sum_{n=1}^\infty u_n\)是正项级数，
记\[
	\rho \defeq \lim_{n\to\infty} n \left(\frac{u_n}{u_{n+1}} - 1\right).
\]
\begin{itemize}
	\item 当\(\rho>1\)时，级数\(\sum_{n=1}^\infty u_n\)收敛.
	\item 当\(\rho<1\)时，级数\(\sum_{n=1}^\infty u_n\)发散.
	\item 当\(\rho=1\)时，级数\(\sum_{n=1}^\infty u_n\)可能收敛也可能发散.
\end{itemize}
\begin{proof}
假设\(\rho>1\).
记\(r \defeq \rho-\epsilon_0\).
那么存在\(\epsilon_0>0\)，
使得\(\rho>r=\rho-\epsilon_0>1\).
显然存在正整数\(N_1\)，
使得当\(n>N_1\)时，
有\[
	n \left(\frac{u_n}{u_{n+1}}-1\right) > r,
	\quad\text{即}\quad
	\frac{u_n}{u_{n+1}} \geq 1+\frac{r}{n}.
\]
取\(p\in(1,r)\)，由\cref{theorem:常数项级数的审敛法.拉贝审敛法的引理} 可知，
存在正整数\(N_2\)，当\(n>N_2\)时，有\[
	1+\frac{r}{n} \geq \left(1+\frac1n\right)^p.
\]
故当\(n>N=\max\{N_1,N_2\}\)时，有\[
	\frac{u_n}{u_{n+1}}
	\geq 1+\frac{r}{n}
	\geq \left(1+\frac1n\right)^p
	= \frac{1/n^p}{1/(n+1)^p}.
\]
根据\cref{theorem:无穷级数.比较审敛法的比值形式}，
由于级数\(\sum_{n=1}^\infty \frac1{n^p}\ (p>1)\)收敛，
所以级数\(\sum_{n=1}^\infty u_n\)也收敛.

假设\(\rho<1\).
显然存在\(\epsilon_1>0\)，
使得\(\rho+\epsilon_1<1\).
这时，存在正整数\(N\)，当\(n>N\)时，有\[
	n \left(\frac{u_n}{u_{n+1}}-1\right)
	< \rho+\epsilon_1
	< 1,
\]
从而有\[
	\frac{u_n}{u_{n+1}}
	\leq 1+\frac1n
	= \frac{1/n}{1/(n+1)}.
\]
根据\cref{theorem:无穷级数.比较审敛法的比值形式}，
由于级数\(\sum_{n=1}^\infty \frac1n\)发散，
所以级数\(\sum_{n=1}^\infty u_n\)也发散.
\end{proof}
\end{theorem}

\subsection{积分审敛法}
\begin{theorem}[积分审敛法]\label{theorem:无穷级数.积分审敛法}
%@see: 《数学分析（第二版 下册）》（陈纪修） P24 定理9.3.6（积分判别法）
%@see: 《数学分析教程 （第3版 下册）》（史济怀） P166 定理14.2.4（Cauchy积分判别法）
设\(f\colon \mathbb{R}\to\mathbb{R}\)是非负的单调减少函数，
那么级数\(\sum_{n=0}^\infty f(a+n)\)
与反常积分\(\int_a^{+\infty} f(x) \dd{x}\)同敛散.
%TODO proof
\end{theorem}
